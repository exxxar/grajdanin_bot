<template>
    <div class="p-3">

        <h5 class="mb-3">–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–∞</h5>

        <div v-if="report" class="card">
            <div class="card-body">

                <ul class="list-group list-group-flush">

                    <li class="list-group-item">
                        <strong>ID:</strong> {{ report.id }}
                    </li>

                    <li class="list-group-item">
                        <strong>–¢–∏–ø:</strong> {{ report.type }}
                    </li>

                    <li class="list-group-item">
                        <strong>–ì—Ä–∞–∂–¥–∞–Ω–∏–Ω:</strong> {{ report.from_user_id || '‚Äî' }}
                    </li>

                    <li class="list-group-item">
                        <strong>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –ª–∏—Ü–æ:</strong> {{ report.to_user_id }}
                    </li>

                    <li class="list-group-item">
                        <strong>–ú—É–Ω–∏—Ü–∏–ø–∞–ª–∏—Ç–µ—Ç:</strong> {{ report.municipality_id }}
                    </li>

                    <li class="list-group-item">
                        <strong>–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è:</strong> {{ report.received_at }}
                    </li>

                    <li class="list-group-item">
                        <strong>–î–æ–∫—É–º–µ–Ω—Ç—ã:</strong>
                        <div v-if="report.documents && report.documents.length > 0">
                            <ul class="small mb-0 ps-3">
                                <li v-for="(doc, index) in report.documents" :key="index">
                                    {{ doc }}
                                </li>
                            </ul>
                        </div>
                        <span v-else class="text-muted">–Ω–µ—Ç</span>
                    </li>

                    <li class="list-group-item">
                        <strong>–°–æ–∑–¥–∞–Ω:</strong> {{ report.created_at }}
                    </li>

                    <li class="list-group-item">
                        <strong>–û–±–Ω–æ–≤–ª—ë–Ω:</strong> {{ report.updated_at }}
                    </li>

                </ul>

            </div>
        </div>

        <div v-else class="text-muted text-center py-4">
            –û—Ç—á—ë—Ç –Ω–µ –≤—ã–±—Ä–∞–Ω
        </div>

        <div class="mt-3 d-flex justify-content-end">
            <button class="btn btn-outline-primary btn-sm me-2"
                    @click="$emit('edit', report)">
                ‚úé –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </button>
            <button class="btn btn-outline-danger btn-sm"
                    @click="$emit('delete', report)">
                üóë –£–¥–∞–ª–∏—Ç—å
            </button>
        </div>

    </div>
</template>

<script>
export default {
    name: "ReportView",

    props: {
        report: {
            type: Object,
            default: null
        }
    }
}
</script>

<style scoped>
.card {
    border-radius: 8px;
}
.list-group-item {
    font-size: 14px;
}
</style>
