import{P as k}from"./Pagination-xaFc_OTG.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as i,b as e,a as y,d as f,F as d,e as v,o as l,t as u,w as g,v as b,f as _}from"./app-oamH8Y-J.js";const w={class:"list-group mb-3"},$={class:"flex-grow-1"},C={class:"fw-bold mb-0"},V={key:0,class:"badge bg-secondary mt-1"},P={class:"dropdown"},j={class:"dropdown-menu dropdown-menu-end"},M=["onClick"],x=["onClick"],E={key:0,class:"list-group-item text-center text-muted py-4"},F={name:"MunicipalityList",data(){return{page:1,perPage:5,items:[{id:1,name:"Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾ÐºÑ€ÑƒÐ³",config:{population:12e4,region:"north"}},{id:2,name:"Ð¡ÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ€Ð°Ð¹Ð¾Ð½",config:{}},{id:3,name:"Ð®Ð¶Ð½Ñ‹Ð¹ Ñ€Ð°Ð¹Ð¾Ð½",config:{type:"urban"}},{id:4,name:"Ð’Ð¾ÑÑ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¾ÐºÑ€ÑƒÐ³",config:{}},{id:5,name:"Ð—Ð°Ð¿Ð°Ð´Ð½Ñ‹Ð¹ Ð¾ÐºÑ€ÑƒÐ³",config:{zone:"A",priority:"high"}},{id:6,name:"ÐŸÑ€Ð¸Ð³Ð¾Ñ€Ð¾Ð´",config:{}}]}},computed:{totalPages(){return Math.ceil(this.items.length/this.perPage)},paginated(){const o=(this.page-1)*this.perPage;return this.items.slice(o,o+this.perPage)}},methods:{remove(o){confirm("Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¼ÑƒÐ½Ð¸Ñ†Ð¸Ð¿Ð°Ð»Ð¸Ñ‚ÐµÑ‚?")&&(this.items=this.items.filter(t=>t.id!==o),this.page>this.totalPages&&(this.page=this.totalPages||1))}}},O=Object.assign(F,{setup(o){return(t,n)=>(l(),i(d,null,[n[1]||(n[1]=e("h5",{class:"mb-2 fw-bold"},"ÐœÑƒÐ½Ð¸Ñ†Ð¸Ð¿Ð°Ð»Ð¸Ñ‚ÐµÑ‚Ñ‹",-1)),e("ul",w,[(l(!0),i(d,null,v(t.paginated,s=>(l(),i("li",{key:s.id,class:"list-group-item d-flex justify-content-between align-items-center"},[e("div",$,[e("p",C," # "+u(s.id)+" "+u(s.name),1),Object.keys(s.config).length>0?(l(),i("span",V,u(Object.keys(s.config).length)+" Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð° ",1)):f("",!0)]),e("div",P,[n[0]||(n[0]=e("button",{class:"btn btn-light dropdown-toggle",type:"button","data-bs-toggle":"dropdown"}," â‹® ",-1)),e("ul",j,[e("li",null,[e("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:m=>t.$emit("edit",s)}," âœŽ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ",8,M)]),e("li",null,[e("a",{class:"dropdown-item text-danger",href:"javascript:void(0)",onClick:m=>t.remove(s.id)}," ðŸ—‘ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ",8,x)])])])]))),128)),t.paginated.length===0?(l(),i("li",E," ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… ")):f("",!0)]),y(k,{pagination:t.paginated},null,8,["pagination"])],64))}}),U=h(O,[["__scopeId","data-v-2960eb01"]]),T={name:"MunicipalityForm",props:{modelValue:{type:Object,default:()=>({name:"",config:{}})}},data(){return{form:{name:"",config:[]}}},computed:{isEdit(){var o;return!!((o=this.modelValue)!=null&&o.id)}},watch:{modelValue:{immediate:!0,deep:!0,handler(o){if(!o)return;const t=Object.entries(o.config||{}).map(([n,s])=>({key:n,value:s}));this.form={name:o.name||"",config:t}}},form:{deep:!0,handler(){const o={...this.form,config:this.form.config.reduce((t,n)=>(n.key.trim()!==""&&(t[n.key]=n.value),t),{})};this.$emit("update:modelValue",o)}}},methods:{addConfig(){this.form.config.push({key:"",value:""})},removeConfig(o){this.form.config.splice(o,1)},submitForm(){const o={...this.form,config:this.form.config.reduce((t,n)=>(n.key.trim()!==""&&(t[n.key]=n.value),t),{})};this.$emit("submit",o)}}},z={class:"mb-3"},B={class:"form-floating mb-3"},L={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},N=["onClick"],S={class:"form-floating mb-2"},D=["onUpdate:modelValue"],I={class:"form-floating"},A=["onUpdate:modelValue"];function q(o,t,n,s,m,r){return l(),i("form",{onSubmit:t[2]||(t[2]=_((...a)=>r.submitForm&&r.submitForm(...a),["prevent"]))},[e("h5",z,u(r.isEdit?"Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼ÑƒÐ½Ð¸Ñ†Ð¸Ð¿Ð°Ð»Ð¸Ñ‚ÐµÑ‚Ð°":"Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼ÑƒÐ½Ð¸Ñ†Ð¸Ð¿Ð°Ð»Ð¸Ñ‚ÐµÑ‚Ð°"),1),e("div",B,[g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>m.form.name=a)},null,512),[[b,m.form.name]]),t[3]||(t[3]=e("label",null,"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ",-1))]),t[6]||(t[6]=e("h6",{class:"mb-2"},"Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹",-1)),(l(!0),i(d,null,v(m.form.config,(a,c)=>(l(),i(d,{key:c},[e("div",L,[e("span",null,"ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ #"+u(c+1),1),e("span",{class:"btn btn-link btn-sm",onClick:p=>r.removeConfig(c)}," Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ",8,N)]),e("div",S,[g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":p=>a.key=p},null,8,D),[[b,a.key]]),t[4]||(t[4]=e("label",null,"ÐšÐ»ÑŽÑ‡",-1))]),e("div",I,[g(e("input",{type:"text",class:"form-control","onUpdate:modelValue":p=>a.value=p},null,8,A),[[b,a.value]]),t[5]||(t[5]=e("label",null,"Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ",-1))])],64))),128)),e("button",{type:"button",class:"btn btn-light btn-sm w-100 my-3",onClick:t[1]||(t[1]=(...a)=>r.addConfig&&r.addConfig(...a))}," Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ "),t[7]||(t[7]=e("button",{style:{position:"sticky",bottom:"20px"},class:"btn btn-primary w-100 mt-3 p-3"}," Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ",-1))],32)}const G=h(T,[["render",q],["__scopeId","data-v-046b9d3d"]]),H={class:"container-fluid p-3"},J={class:"navbar bg-transparent position-fixed bottom-0 start-0 w-100 p-3"},K={data(){return{selected:null,tab:"main"}},methods:{editElement(o){this.selected=null,this.$nextTick(()=>{this.selected=o,this.tab="form"})},goTo(o){this.$router.push({name:o})}}},X=Object.assign(K,{__name:"MunicipalityPage",setup(o){return(t,n)=>(l(),i("div",H,[t.tab==="main"?(l(),i(d,{key:0},[e("button",{onClick:n[0]||(n[0]=s=>t.goTo("MenuPage")),class:"btn btn-light text-secondary mb-3",style:{position:"sticky",top:"80px","z-index":"100"}},"Ðš Ð¼ÐµÐ½ÑŽ"),y(U,{onEdit:t.editElement},null,8,["onEdit"]),e("nav",J,[e("button",{onClick:n[1]||(n[1]=s=>t.tab="form"),type:"button",class:"btn btn-primary w-100 p-3"}," Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ")])],64)):f("",!0),t.tab==="form"?(l(),i(d,{key:1},[e("button",{onClick:n[2]||(n[2]=s=>t.tab="main"),class:"btn btn-light text-secondary mb-3",style:{position:"sticky",top:"80px","z-index":"100"}},"ÐÐ°Ð·Ð°Ð´"),y(G,{modelValue:t.selected,"onUpdate:modelValue":n[3]||(n[3]=s=>t.selected=s),onSubmit:n[4]||(n[4]=s=>t.tab="main")},null,8,["modelValue"])],64)):f("",!0)]))}});export{X as default};
