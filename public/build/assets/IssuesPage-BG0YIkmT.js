import{P as k}from"./Pagination-xaFc_OTG.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as i,b as s,a as f,d as p,F as u,e as v,o as a,g as y,t as m,s as h,h as w,r as C,w as c,v as b,n as _,i as I,f as P}from"./app-oamH8Y-J.js";const M={class:"list-group mb-3"},F={class:"flex-grow-1"},j={class:"fw-bold mb-1 d-flex align-items-center"},L=["innerHTML"],N={key:0,class:"text-muted small mb-1"},S={key:1,class:"badge bg-secondary"},U={class:"dropdown"},E={class:"dropdown-menu dropdown-menu-end"},T=["onClick"],O=["onClick"],z={key:0,class:"list-group-item text-center text-muted py-4"},A={name:"IssueCategoryList",data(){return{page:1,perPage:5,items:[{id:1,name:"–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",description:"–ü—Ä–æ–±–ª–µ–º—ã —à–∫–æ–ª, –¥–µ—Ç—Å–∫–∏—Ö —Å–∞–¥–æ–≤ –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π.",icon:'<i class="fa-solid fa-graduation-cap"></i>',type:0,variants:["–®–∫–æ–ª—ã –∏ –¥–µ—Ç—Å–∫–∏–µ —Å–∞–¥—ã","–ö–∞—á–µ—Å—Ç–≤–æ –æ–±—É—á–µ–Ω–∏—è","–ü–∏—Ç–∞–Ω–∏–µ","–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—á—Ä–µ–∂–¥–µ–Ω–∏–π"]},{id:2,name:"–ó–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ",description:"–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏, –±–æ–ª—å–Ω–∏—Ü—ã, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Ä–∞—á–µ–π.",icon:'<i class="fa-solid fa-hospital"></i>',type:0,variants:["–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏","–û—á–µ—Ä–µ–¥–∏","–ö–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è"]},{id:3,name:"–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç",description:null,icon:'<i class="fa-solid fa-bus"></i>',type:1,variants:[]}]}},computed:{totalPages(){return Math.ceil(this.items.length/this.perPage)},paginated(){const n=(this.page-1)*this.perPage;return this.items.slice(n,n+this.perPage)}},methods:{remove(n){confirm("–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é?")&&(this.items=this.items.filter(t=>t.id!==n),this.page>this.totalPages&&(this.page=this.totalPages||1))}}},x=Object.assign(A,{setup(n){return(t,e)=>(a(),i(u,null,[e[1]||(e[1]=s("h5",{class:"mb-2 fw-bold"},"–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∏—Ç—É–∞—Ü–∏–π",-1)),s("ul",M,[(a(!0),i(u,null,v(t.paginated,o=>(a(),i("li",{key:o.id,class:"list-group-item d-flex justify-content-between align-items-center"},[s("div",F,[s("p",j,[s("span",{innerHTML:o.icon,class:"me-2"},null,8,L),y(" #"+m(o.id)+" "+m(o.name),1)]),o.description?(a(),i("p",N,m(o.description),1)):p("",!0),o.variants&&o.variants.length>0?(a(),i("span",S,m(o.variants.length)+" –≤–∞—Ä–∏–∞–Ω—Ç–∞ ",1)):p("",!0)]),s("div",U,[e[0]||(e[0]=s("button",{class:"btn btn-light dropdown-toggle",type:"button","data-bs-toggle":"dropdown"}," ‚ãÆ ",-1)),s("ul",E,[s("li",null,[s("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:l=>t.$emit("edit",o)}," ‚úé –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ",8,T)]),s("li",null,[s("a",{class:"dropdown-item text-danger",href:"javascript:void(0)",onClick:l=>t.remove(o.id)}," üóë –£–¥–∞–ª–∏—Ç—å ",8,O)])])])]))),128)),t.paginated.length===0?(a(),i("li",z," –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö ")):p("",!0)]),f(k,{pagination:t.paginated},null,8,["pagination"])],64))}}),B=g(x,[["__scopeId","data-v-1ff1a14a"]]),D=Object.keys(h).filter(n=>n.startsWith("fa")&&h[n].iconName).map(n=>{const t=h[n],o={fas:"fa-solid",far:"fa-regular",fab:"fa-brands"}[t.prefix]||"fa-solid",l=`fa-${t.iconName}`;return{name:t.iconName,icon:t,class:`${o} ${l}`}}),H={name:"IconPicker",components:{FontAwesomeIcon:w},props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{search:"",visibleCount:20}},computed:{isSearching(){return this.search.trim().length>0},filtered(){const n=this.search.toLowerCase();return D.filter(t=>t.class.toLowerCase().indexOf(n)!==-1)},visibleIcons(){return this.isSearching?this.filtered:this.filtered.slice(0,this.visibleCount)}},watch:{search(){this.visibleCount=20}},methods:{check(n){const t=`<i class="${n.class}"></i>`;return this.modelValue===t},selectIcon(n){const t=`<i class="${n.class}"></i>`;this.$emit("update:modelValue",t)},loadMore(){this.visibleCount+=20}}},q={class:"icon-picker"},W={class:"row g-2 icon-grid"},G=["onClick"],J={key:0,class:"text-center mt-3"};function K(n,t,e,o,l,r){const V=C("FontAwesomeIcon");return a(),i("div",q,[c(s("input",{type:"text",class:"form-control mb-2 p-3",placeholder:"–ü–æ–∏—Å–∫ –∏–∫–æ–Ω–∫–∏‚Ä¶","onUpdate:modelValue":t[0]||(t[0]=d=>l.search=d)},null,512),[[b,l.search]]),s("div",W,[(a(!0),i(u,null,v(r.visibleIcons,(d,$)=>(a(),i("div",{key:$,class:"col-3 col-md-2 text-center"},[s("button",{type:"button",class:_(["btn btn-light w-100 py-3 border",{"bg-primary text-white":r.check(d)}]),onClick:ct=>r.selectIcon(d)},[f(V,{icon:d.icon,size:"lg"},null,8,["icon"])],10,G)]))),128))]),!r.isSearching&&l.visibleCount<r.filtered.length?(a(),i("div",J,[s("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:t[1]||(t[1]=(...d)=>r.loadMore&&r.loadMore(...d))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë ")])):p("",!0)])}const Q=g(H,[["render",K],["__scopeId","data-v-89d52474"]]),R={class:"mb-2"},X={class:"form-floating mb-2"},Y={class:"form-floating mb-2"},Z={class:"form-floating mb-2"},tt={class:"mb-2"},et={class:"form-label"},st={class:"fst-italic"},ot={class:"mb-2 fw-bold d-flex justify-content-between align-items-center"},nt=["onClick"],it={class:"form-floating mb-2"},at=["onUpdate:modelValue"],lt={name:"IssueCategoryForm",props:{modelValue:{type:Object,default:()=>({name:"",description:"",type:0,icon:"",variants:[]})}},data(){return{form:{name:"",description:"",type:0,icon:"",variants:[]}}},computed:{isEdit(){var n;return!!((n=this.modelValue)!=null&&n.id)}},watch:{form:{deep:!0,handler(){const n={...this.form,variants:[...this.form.variants]};this.$emit("update:modelValue",n)}}},mounted(){this.modelValue&&(this.form={name:this.modelValue.name||"",description:this.modelValue.description||"",type:this.modelValue.type??0,icon:this.modelValue.icon||"",variants:Array.isArray(this.modelValue.variants)?[...this.modelValue.variants]:[]})},methods:{addVariant(){this.form.variants.push("")},removeVariant(n){this.form.variants.splice(n,1)},submitForm(){const n={...this.form,variants:this.form.variants.filter(t=>t.trim()!=="")};this.$emit("submit",n)}}},rt=Object.assign(lt,{setup(n){return(t,e)=>(a(),i("form",{onSubmit:e[5]||(e[5]=P((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[s("h5",R,m(t.isEdit?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏":"–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"),1),s("div",X,[c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>t.form.name=o)},null,512),[[b,t.form.name]]),e[6]||(e[6]=s("label",null,"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",-1))]),s("div",Y,[c(s("textarea",{class:"form-control",style:{height:"100px"},"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.description=o)},null,512),[[b,t.form.description]]),e[7]||(e[7]=s("label",null,"–û–ø–∏—Å–∞–Ω–∏–µ",-1))]),s("div",Z,[c(s("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=o=>t.form.type=o)},[...e[8]||(e[8]=[s("option",{value:0},"–ü—Ä–æ–±–ª–µ–º—ã",-1),s("option",{value:1},"–†–µ—à–µ–Ω–∏—è",-1),s("option",{value:2},"–°–ª–æ–∂–Ω–æ—Å—Ç–∏",-1)])],512),[[I,t.form.type]]),e[9]||(e[9]=s("label",null,"–¢–∏–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",-1))]),s("div",tt,[s("label",et,[e[10]||(e[10]=y("–ò–∫–æ–Ω–∫–∞ ",-1)),s("span",st,m(t.form.icon),1)]),f(Q,{modelValue:t.form.icon,"onUpdate:modelValue":e[3]||(e[3]=o=>t.form.icon=o)},null,8,["modelValue"])]),e[12]||(e[12]=s("h6",{class:"mb-2"},"–í–∞—Ä–∏–∞–Ω—Ç—ã (—Å–ø–∏—Å–æ–∫ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π)",-1)),(a(!0),i(u,null,v(t.form.variants,(o,l)=>(a(),i(u,{key:l},[s("div",ot,[s("span",null,"–í–∞—Ä–∏–∞–Ω—Ç #"+m(l+1),1),s("span",{class:"btn btn-link btn-sm",onClick:r=>t.removeVariant(l)}," –£–¥–∞–ª–∏—Ç—å ",8,nt)]),s("div",it,[c(s("input",{type:"text",class:"form-control","onUpdate:modelValue":r=>t.form.variants[l]=r},null,8,at),[[b,t.form.variants[l]]]),e[11]||(e[11]=s("label",null,"–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞",-1))])],64))),128)),s("button",{type:"button",class:"btn btn-light btn-sm w-100 my-3",onClick:e[4]||(e[4]=(...o)=>t.addVariant&&t.addVariant(...o))}," –î–æ–±–∞–≤–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç "),e[13]||(e[13]=s("button",{style:{position:"sticky",bottom:"20px","z-index":"100"},class:"btn btn-primary w-100 mt-3 p-3"}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",-1))],32))}}),dt=g(rt,[["__scopeId","data-v-d97c8b79"]]),mt={class:"container-fluid p-3"},ut={class:"navbar bg-transparent position-fixed bottom-0 start-0 w-100 p-3"},pt={data(){return{selected:null,tab:"main"}},methods:{editElement(n){this.selected=null,this.$nextTick(()=>{this.selected=n,this.tab="form"})},goTo(n){this.$router.push({name:n})}}},gt=Object.assign(pt,{__name:"IssuesPage",setup(n){return(t,e)=>(a(),i("div",mt,[t.tab==="main"?(a(),i(u,{key:0},[s("button",{onClick:e[0]||(e[0]=o=>t.goTo("MenuPage")),class:"btn btn-light text-secondary mb-3",style:{position:"sticky",top:"80px","z-index":"100"}},"–ö –º–µ–Ω—é"),f(B,{onEdit:t.editElement},null,8,["onEdit"]),s("nav",ut,[s("button",{onClick:e[1]||(e[1]=o=>t.tab="form"),type:"button",class:"btn btn-primary w-100 p-3"}," –î–æ–±–∞–≤–∏—Ç—å ")])],64)):p("",!0),t.tab==="form"?(a(),i(u,{key:1},[s("button",{onClick:e[2]||(e[2]=o=>t.tab="main"),class:"btn btn-light text-secondary mb-3",style:{position:"sticky",top:"80px","z-index":"100"}},"–ù–∞–∑–∞–¥"),f(dt,{modelValue:t.selected,"onUpdate:modelValue":e[3]||(e[3]=o=>t.selected=o),onSubmit:e[4]||(e[4]=o=>t.tab="main")},null,8,["modelValue"])],64)):p("",!0)]))}});export{gt as default};
